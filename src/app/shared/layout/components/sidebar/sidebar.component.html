<!-- Sidebar Principal -->
<nav
  [ngClass]="menuService.showSideBar ? 'w-60 xl:w-64' : 'w-[70px]'"
  class="scrollbar-thumb--sm scrollbar-track-rounded bg-background scrollbar-thin scrollbar-track-transparent scrollbar-thumb-card hidden h-full flex-col justify-between overflow-auto pt-3 transition-all duration-300 lg:flex select-none"
  role="navigation"
  aria-label="Navegación principal"
>
  <div class="flex flex-col px-4 gap-5">
    <!-- Encabezado del Sidebar -->
    <app-sidebar-header
      [showSideBar]="menuService.showSideBar"
      (toggleSidebar)="toggleSidebar()"
    />

    <!-- Menú de Acción -->
    <app-dropdown-menu
      [showSideBar]="menuService.showSideBar"
      [dropdownOpen]="dropdownOpen"
      (toggleDropdown)="toggleDropdown()"
      (abrirModalCrearCarpeta)="abrirModalDesdeDropdown($event)"
    />

    <!-- Contenido Principal (Items del sidebar) -->
    <app-sidebar-nav
      [showSideBar]="menuService.showSideBar"
      [dropdownOpen]="dropdownOpen"
      (toggleDropdown)="toggleDropdown()"
    />
  </div>

  <!-- Pie del Sidebar -->
  <div class="m-4 space-x-1">
    <app-sidebar-footer
      *ngIf="!menuService.showSideBar"
      (toggleSidebar)="toggleSidebar()"
    />
  </div>
</nav>


<!-- Modal para crear carpeta -->
<app-crear-carpeta-modal
  [isOpen]="isOpenCrearCarpetaModal"
  [carpetaPadreId]="carpetaPadreIdParaCrear"
  (close)="cerrarModalDesdeDropdown()"
/>
