<!-- Bloque de Acciones -->
<div class="flex flex-col h-full gap-2">
  <!-- Header Section -->
  <div
    class="h-14 w-full rounded-lg flex items-center justify-between transition-all duration-300 ease-in-out transform px-4"
    [ngClass]="
      elementosSeleccionados.length > 0
        ? 'shadow-sm border border-gray-200'
        : ''
    "
  >
    <!-- Mostrar cuando no hay elementos seleccionados -->
    <ng-container *ngIf="elementosSeleccionados.length === 0">
      <button
        class="px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg text-center transition-colors duration-200 flex items-center gap-2"
        (click)="vaciarPapelera()"
      >
        <svg-icon
          src="assets/icons/trash.svg"
          [svgClass]="'h-5 w-5 text-red-500'"
        />
        Vaciar Papelera
      </button>
    </ng-container>

    <!-- Mostrar cuando se selecciona un solo elemento -->
    <ng-container *ngIf="elementosSeleccionados.length === 1">
      <div class="flex w-full justify-between select-none">
        <div class="flex gap-2">
          <button
            class="px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg text-center transition-colors duration-200 flex items-center gap-2"
            (click)="restaurarSeleccionados()"
          >
            <svg-icon
              src="assets/icons/object.svg"
              [svgClass]="'h-5 w-5 text-green-500'"
            />
            Restaurar
          </button>

          <button
            class="px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg text-center transition-colors duration-200 flex items-center gap-2"
            (click)="eliminarSeleccionados()"
          >
            <svg-icon
              src="assets/icons/trash.svg"
              [svgClass]="'h-5 w-5 text-red-500'"
            />
            Eliminar permanentemente
          </button>
        </div>

        <div class="flex flex-row">
          <button
            class="text-sm px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-200 hover:bg-gray-50 font-medium rounded-lg text-center items-center transition-all duration-200 flex gap-2"
            (click)="limpiarSeleccion()"
            aria-label="Limpiar selección"
          >
            <i class="bi bi-x-lg"></i>
            <span class="text-sm font-medium">
              {{ elementosSeleccionados.length }} seleccionado(s)
            </span>
          </button>
        </div>
      </div>
    </ng-container>

    <!-- Mostrar cuando se seleccionan múltiples elementos -->
    <ng-container *ngIf="elementosSeleccionados.length > 1">
      <div class="flex w-full justify-between select-none">
        <div class="flex gap-2">
          <button
            class="px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg text-center transition-colors duration-200 flex items-center gap-2"
            (click)="restaurarSeleccionados()"
          >
            <svg-icon
              src="assets/icons/object.svg"
              [svgClass]="'h-5 w-5 text-green-500'"
            />
            Restaurar seleccionados
          </button>

          <button
            class="px-4 py-2 text-sm text-gray-600 hover:bg-gray-50 rounded-lg text-center transition-colors duration-200 flex items-center gap-2"
            (click)="eliminarSeleccionados()"
          >
            <svg-icon
              src="assets/icons/trash.svg"
              [svgClass]="'h-5 w-5 text-red-500'"
            />
            Eliminar permanentemente
          </button>
        </div>

        <div class="flex flex-row">
          <button
            class="text-sm px-4 py-2 text-gray-700 hover:text-gray-900 border border-gray-200 hover:bg-gray-50 font-medium rounded-lg text-center items-center transition-all duration-200 flex gap-2"
            (click)="limpiarSeleccion()"
            aria-label="Limpiar selección"
          >
            <i class="bi bi-x-lg"></i>
            <span class="text-sm font-medium">
              {{ elementosSeleccionados.length }} seleccionado(s)
            </span>
          </button>
        </div>
      </div>
    </ng-container>
  </div>

  <!-- Table Section -->
  <div
    class="flex-1 min-h-0 bg-white rounded-lg shadow-sm border border-gray-200"
  >
    <app-table
      [cabeceras]="cabeceras"
      [columnas]="columnas"
      [elementosTabla]="elementosTablaPapelera"
      [isLoading]="isLoading"
      [isError]="isError"
      [error]="error"
      (cambioSeleccion)="onSeleccionCambiada($event)"
    />
  </div>
</div>
