<!-- Login form -->
<div class="my-10 space-y-6">
  <!-- Mensaje de error global -->
  <div
    *ngIf="loginError"
    class="p-4 mb-4 text-sm rounded-lg bg-red-50 text-red-600 border border-red-200"
  >
    <div class="flex items-center">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5 mr-2"
        viewBox="0 0 20 20"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
          clip-rule="evenodd"
        />
      </svg>
      <span>{{ loginError }}</span>
    </div>
  </div>

  <!-- Bienvenida -->
  <div
    class="mb-7 px-6 pt-3 text-center md:pt-0 lg:px-0 lg:text-start xl:mb-8 2xl:mb-10"
  >
    <h2
      class="font-bold mb-5 text-[26px] leading-snug md:text-3xl md:!leading-normal lg:mb-7 lg:pe-16 lg:text-[28px] xl:text-3xl 2xl:pe-8 2xl:text-3xl"
    >
      Bienvenido de Nuevo!
    </h2>

    <div
      class="font-bold mb-5 text-[26px] leading-snug md:text-3xl md:!leading-normal lg:mb-7 lg:pe-16 lg:text-[28px] xl:text-3xl 2xl:pe-8 2xl:text-2xl"
    >
      <!-- -->

      <span class="relative inline-block"
        >Inicia Sesión

        <svg
          viewBox="0 0 147 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="absolute -bottom-2 start-0 h-2.5 w-24 text-blue md:w-28 xl:-bottom-1.5 xl:w-36 text-blue-600"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M62.4325 0.957703C55.5264 1.2859 48.7014 1.68945 42.0459 2.13063C32.6242 2.75474 23.2063 3.40038 13.8451 4.42263C10.8984 4.74545 7.90595 4.94989 4.97767 5.35341C3.13948 5.60628 0.702089 5.96671 0.382211 6.04203C0.214902 6.08507 0.141911 6.1497 0.118325 6.17122C-0.0475096 6.32187 -0.0172508 6.46707 0.0763539 6.58006C0.113943 6.62848 0.208995 6.74689 0.472857 6.76303C18.1192 7.86599 36.1635 5.71388 53.8312 5.48791C84.4702 5.10053 116.038 6.63929 146.433 9.99658C146.699 10.0235 146.957 9.88894 146.994 9.68987C147.038 9.49618 146.846 9.30786 146.581 9.28096C116.134 5.91829 84.5144 4.37415 53.8165 4.76691C37.3509 4.97674 20.5603 6.86525 4.07184 6.21962C4.45068 6.16582 4.82217 6.112 5.16122 6.06357C8.0777 5.66005 11.0576 5.461 13.9925 5.13818C23.3338 4.11593 32.7326 3.4703 42.1417 2.85157C53.8165 2.07681 65.9998 1.40965 78.279 1.0976C82.6718 1.14602 87.0498 1.19446 91.4278 1.25364C100.899 1.38277 110.414 1.75939 119.863 2.26514C122.708 2.42117 125.553 2.58256 128.398 2.72245C129.341 2.77087 131.774 2.91073 132.113 2.89997C132.533 2.88921 132.614 2.63098 132.621 2.58794C132.643 2.4911 132.629 2.35658 132.422 2.2436C132.4 2.22745 132.267 2.17362 131.973 2.14134C114.792 0.236721 96.4471 -0.0806646 78.2937 0.376658C59.1453 0.177588 39.9232 0.0914646 20.8234 0C20.55 0 20.3266 0.161432 20.3244 0.360502C20.323 0.559572 20.5433 0.721008 20.8168 0.726389C34.6467 0.790952 48.5466 0.855478 62.4325 0.957703Z"
            fill="currentColor"
          ></path></svg
      ></span>
      <!-- -->
      para continuar.
    </div>
  </div>

  <!-- Formulario -->
  <div
    class="mb-7 px-6 pt-3 text-center md:pt-0 lg:px-0 lg:text-start xl:mb-8 2xl:mb-10"
  >
    <form class="space-y-6" [formGroup]="loginForm">
      <!-- Campo de Correo -->
      <div>
        <label
          for="correo"
          class="block text-sm mb-1.5 font-medium text-gray-900"
        >
          Correo
        </label>
        <div class="mt-2">
          <input
            type="email"
            name="correo"
            id="correo"
            placeholder="Ingresa tu correo"
            formControlName="correo"
            autocomplete="email"
            required
            class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
            [ngClass]="{
              'outline-red-500':
                correo.invalid && (correo.dirty || correo.touched)
            }"
          />

          <!-- Mensajes de error -->
          <div
            *ngIf="correo.invalid && (correo.dirty || correo.touched)"
            class="mt-1 text-sm text-red-600"
          >
            <div *ngIf="correo.hasError('required')">
              El correo es requerido.
            </div>
            <div *ngIf="correo.hasError('email')">
              Ingresa un correo válido.
            </div>
            <div *ngIf="correo.hasError('serverError')">
              El formato del correo es incorrecto o no existe.
            </div>
          </div>
        </div>
      </div>

      <div>
        <div class="flex items-center justify-between">
          <label
            for="contrasena"
            class="block text-sm/6 font-medium text-gray-900"
          >
            Contraseña
          </label>
        </div>
        <div class="mt-2">
          <input
            type="password"
            name="contrasena"
            id="contrasena"
            placeholder="Ingresa tu contraseña"
            formControlName="contrasena"
            autocomplete="current-password"
            required
            class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"
            [ngClass]="{
              'outline-red-500':
                contrasena.invalid && (contrasena.dirty || contrasena.touched)
            }"
          />
          <!-- Mensajes de error -->
          <div
            *ngIf="
              contrasena.invalid && (contrasena.dirty || contrasena.touched)
            "
            class="mt-1 text-sm text-red-600"
          >
            <div *ngIf="contrasena.hasError('required')">
              La contraseña es requerida.
            </div>
            <div *ngIf="contrasena.hasError('serverError')">
              La contraseña es incorrecta o no cumple con los requisitos de
              seguridad.
            </div>
          </div>
        </div>
      </div>

      <div>
        <button
          type="submit"
          (click)="iniciarSesion()"
          [disabled]="isLoading"
          class="flex w-full h-10 justify-center items-center font-medium rounded-md bg-indigo-600 px-3 py-1.5 text-sm text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 disabled:bg-indigo-400 active:enabled:translate-y-px"
        >
          <span *ngIf="isLoading" class="mr-2">
            <!-- Spinner de carga -->
            <svg
              class="animate-spin h-4 w-4 text-white"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
            >
              <circle
                class="opacity-25"
                cx="12"
                cy="12"
                r="10"
                stroke="currentColor"
                stroke-width="4"
              ></circle>
              <path
                class="opacity-75"
                fill="currentColor"
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
              ></path>
            </svg>
          </span>
          {{ isLoading ? "Iniciando Sesión..." : "Iniciar Sesión" }}
        </button>
      </div>
    </form>
  </div>
</div>
